[gd_scene load_steps=15 format=3 uid="uid://c8vo562dl65ef"]

[ext_resource type="Script" uid="uid://1f3qoqbyq044" path="res://blisscode/item/pickup.gd" id="2_d8ri5"]
[ext_resource type="Script" uid="uid://dfarl1fr76j2f" path="res://blisscode/item/consumable.gd" id="3_6e4r0"]
[ext_resource type="Texture2D" uid="uid://dg0r201xndfkx" path="res://assets/img/items/Coin-Sheet.png" id="5_tmg4t"]
[ext_resource type="AudioStream" uid="uid://bwr2p1a5f5qfh" path="res://assets/audio/effects/pickupCoin.wav" id="6_bww1p"]
[ext_resource type="Script" uid="uid://cllnj4m6d7la4" path="res://blisscode/interaction/hotspot/hotspot_collision.gd" id="7_uamim"]
[ext_resource type="Texture2D" uid="uid://dl5ed1afrnnhn" path="res://assets/img/masks/LightMask.png" id="8_5rl0j"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_dg507"]
load_path = "res://.godot/imported/Halloween-Items.png-a13faa183057354962f4b609dd72ae31.ctex"

[sub_resource type="Resource" id="Resource_p4wol"]
script = ExtResource("3_6e4r0")
consume_on_pickup = true
package = "glitch_halloween"
name = "purple magicians hat"
texture = SubResource("CompressedTexture2D_dg507")
frame = 2
hframes = 6
vframes = 2
metadata/_custom_type_script = "uid://dfarl1fr76j2f"

[sub_resource type="AtlasTexture" id="AtlasTexture_4cg37"]
atlas = ExtResource("5_tmg4t")

[sub_resource type="Animation" id="Animation_17rex"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_n5epu"]
resource_name = "idle"
length = 0.5
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.133333, 0.266667, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_p7gpd"]
_data = {
&"RESET": SubResource("Animation_17rex"),
&"idle": SubResource("Animation_n5epu")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gg01l"]
size = Vector2(10, 16)

[sub_resource type="CircleShape2D" id="CircleShape2D_4cg37"]
radius = 36.0139

[node name="Hat" type="Node2D" node_paths=PackedStringArray("hotspots")]
script = ExtResource("2_d8ri5")
item = SubResource("Resource_p4wol")
hotspots = [NodePath("HotspotCollision")]
metadata/_custom_type_script = "uid://1f3qoqbyq044"

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = SubResource("AtlasTexture_4cg37")
centered = false
hframes = 4

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_p7gpd")
}

[node name="InteractArea2D" type="Area2D" parent="."]
position = Vector2(8, 8)
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractArea2D"]
shape = SubResource("RectangleShape2D_gg01l")

[node name="InRangeArea2D" type="Area2D" parent="."]
position = Vector2(8, 8)
collision_layer = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="InRangeArea2D"]
shape = SubResource("CircleShape2D_4cg37")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_bww1p")
volume_db = -11.243
bus = &"Effects"

[node name="HotspotCollision" type="Node2D" parent="." node_paths=PackedStringArray("interact_area", "in_range_area", "interact_audio")]
script = ExtResource("7_uamim")
interact_area = NodePath("../InteractArea2D")
in_range_area = NodePath("../InRangeArea2D")
interact_audio = NodePath("../AudioStreamPlayer")
interaction_text = ""
metadata/_custom_type_script = "uid://cllnj4m6d7la4"

[node name="PointLight2D" type="PointLight2D" parent="."]
color = Color(0.9532209, 3.0322373e-05, 0.67173237, 1)
energy = 3.0
shadow_enabled = true
texture = ExtResource("8_5rl0j")
offset = Vector2(8, 8)
texture_scale = 4.0
